(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{227:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return b}));var n=a(1),o=a(9),r=(a(0),a(439)),c={last_modified_on:"2022-06-15",title:"Slack",description:"Learn how to connect Qovery to your Slack workspace"},i={id:"using-qovery/integration/slack",title:"Slack",description:"Learn how to connect Qovery to your Slack workspace",source:"@site/docs/using-qovery/integration/slack.md",permalink:"/docs/using-qovery/integration/slack",editUrl:"https://github.com/Qovery/documentation/edit/master/website/docs/using-qovery/integration/slack.md",sidebar:"docs",previous:{title:"Integrations",permalink:"/docs/using-qovery/integration"},next:{title:"Terraform",permalink:"/docs/using-qovery/integration/terraform-integration"}},l=[{value:"1. Create a Slack app",id:"1-create-a-slack-app",children:[]},{value:"2. Create Webhook",id:"2-create-webhook",children:[]},{value:"3. Create Webhook in Qovery",id:"3-create-webhook-in-qovery",children:[{value:"Considerations",id:"considerations",children:[]}]},{value:"4. Try it!",id:"4-try-it",children:[]}],p={rightToc:l};function b(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"If you'd like to automatically notify your team on a Slack workspace whenever a change has occurred on your apps, this Integration will help you out. You can choose which actions should trigger messages on your Slack workspace."),Object(r.b)("p",null,"Here are the steps that we are going through:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Create a Slack app"),Object(r.b)("li",{parentName:"ol"},"Create a Webhook"),Object(r.b)("li",{parentName:"ol"},"Setup Webhook in Qovery"),Object(r.b)("li",{parentName:"ol"},"Try it!")),Object(r.b)("h2",{id:"1-create-a-slack-app"},"1. Create a Slack app"),Object(r.b)("p",null,"Go to the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://api.slack.com/apps?new_app=1"}),"Slack page to create apps")," and create a new app. C"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-app-slack-1.png",alt:"Create a slack app - step 1"})),Object(r.b)("p",null,"Create a Slack app from scratch."),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-app-slack-2.png",alt:"Create a slack app - step 2"})),Object(r.b)("p",null,"all it ",Object(r.b)("inlineCode",{parentName:"p"},"Qovery")," and connect it to the workspace of your choice."),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-app-slack-3.png",alt:"Create a slack app - step 3"})),Object(r.b)("p",null,"Feel free to use an image from ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://raw.githubusercontent.com/Qovery/public-resources/master/qovery_square_new_logo_with_margin.png"}),"here")," as the app's logo."),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-app-slack-4.png",alt:"Create a slack app - step 4"})),Object(r.b)("h2",{id:"2-create-webhook"},"2. Create Webhook"),Object(r.b)("p",null,"Go to the ",Object(r.b)("inlineCode",{parentName:"p"},"Incoming Webhooks")," page for your newly-created app and toggle ",Object(r.b)("inlineCode",{parentName:"p"},"Activate Incoming Webhooks")," to turn it on."),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-webhook-1.png",alt:"Create a webhook integration on Slack - step 1"})),Object(r.b)("p",null,"Then click on ",Object(r.b)("inlineCode",{parentName:"p"},"Add New Webhook to Workspace")),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-webhook-2.png",alt:"Create a webhook integration on Slack - step 2"})),Object(r.b)("p",null,"and select the channel that the notifications will be posted to:"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-webhook-3.png",alt:"Create a webhook integration on Slack - step 3"})),Object(r.b)("p",null,"Copy the webhook URL"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/create-webhook-4.png",alt:"Create a webhook integration on Slack - step 4"})),Object(r.b)("h2",{id:"3-create-webhook-in-qovery"},"3. Create Webhook in Qovery"),Object(r.b)("p",null,"To create a webhook in Qovery you need to:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Install the ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/using-qovery/interface/cli/"}),"Qovery CLI")),Object(r.b)("li",{parentName:"ol"},"Generate an ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/using-qovery/interface/cli/#generate-api-token"}),"API Token")),Object(r.b)("li",{parentName:"ol"},"Run the following CURL command:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H \'Content-type: application/json\' -H \'Authorization: Token <Your API Token>\' -d \\\n\'{"description": "slack notifications", "target_url": "https://hooks.slack.com/services/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", "events": ["DEPLOYMENT_STARTED", "DEPLOYMENT_CANCELLED", "DEPLOYMENT_SUCCESSFUL", "DEPLOYMENT_FAILURE"], "kind": "SLACK", "enabled": true}\' \\\n"https://api.qovery.com/organization/141c07c8-0dd9-4623-983b-3fdd61867255/webhook"\n')),Object(r.b)("p",null,"You must receive a REST response from the API if it's all good!"),Object(r.b)("h3",{id:"considerations"},"Considerations"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"You can have multiple webhooks targeting different Slack channels"),Object(r.b)("li",{parentName:"ul"},"You can specify the events that you want to receive. E.g. if you just want to be notified when a deployment failed, then use ",Object(r.b)("inlineCode",{parentName:"li"},'"events": ["DEPLOYMENT_FAILURE"]'),". All the events and the description are available ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/createOrganizationWebhook"}),"on our API doc"),"."),Object(r.b)("li",{parentName:"ul"},"You can turn off or delete your webhooks at any time with ",Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://api-doc.qovery.com/#tag/Organization-Webhook/operation/deleteOrganizationWebhook"}),"this API call"),"."),Object(r.b)("li",{parentName:"ul"},"The Qovery web interface will integrate the Webhook configuration :)")),Object(r.b)("p",null,"Check out ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/using-qovery/integration/webhook/"}),"this page")," for further details on how to use the WebHook API."),Object(r.b)("h2",{id:"4-try-it"},"4. Try it!"),Object(r.b)("p",null,"Launch a deployment with Qovery, and you will see a message like the one below appearing in your Slack channel \ud83c\udf89"),Object(r.b)("p",{align:"center"},Object(r.b)("img",{src:"/img/slack/try-it.png",alt:"Qovery Slack notification"})),Object(r.b)("p",null,"Open a thread on ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://discuss.qovery.com/"}),"our forum")," if you have any questions."))}b.isMDXComponent=!0},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return g}));var n=a(0),o=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=o.a.createContext({}),b=function(e){var t=o.a.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i({},t,{},e)),a},s=function(e){var t=b(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},h=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),s=b(a),h=n,g=s["".concat(c,".").concat(h)]||s[h]||u[h]||r;return a?o.a.createElement(g,i({ref:t},p,{components:a})):o.a.createElement(g,i({ref:t},p))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var p=2;p<r;p++)c[p]=a[p];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,a)}h.displayName="MDXCreateElement"}}]);