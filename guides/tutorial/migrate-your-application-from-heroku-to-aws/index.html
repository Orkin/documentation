<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="preconnect" href="https://phprox.qovery.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,c){function a(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==c?g=e[c]=[]:c="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==c&&(e+="."+c),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)a(g,o[p]);e._i.push([r,s,c])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_IgdG1K2GveDUte1gJ6hlwNbFHCv9nViWETUyLMU7ciq",{api_host:"https://phprox.qovery.com"})</script>
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Qovery Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Qovery Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">
<script src="/js/intercom.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=UA-129773960-5" async></script>
<script src="/js/ga.js"></script>

<title data-react-helmet="true">Migrate your application from Heroku to AWS | Qovery</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Migrate your application from Heroku to AWS | Qovery"><meta data-react-helmet="true" name="description" content="Migrate your application from Heroku to AWS, in minutes, for free"><meta data-react-helmet="true" property="og:description" content="Migrate your application from Heroku to AWS, in minutes, for free"><meta data-react-helmet="true" property="og:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.qovery.com/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Migrate your application from Heroku to AWS | Qovery"><meta data-react-helmet="true" property="og:url" content="https://docs.qovery.com/guides/tutorial/migrate-your-application-from-heroku-to-aws/"><meta data-react-helmet="true" name="twitter:card" content="summary">

<link data-react-helmet="true" rel="shortcut icon" href="/img/logo-square.svg"><link data-react-helmet="true" rel="canonical" href="https://docs.qovery.com/guides/tutorial/migrate-your-application-from-heroku-to-aws/">


<link rel="stylesheet" href="/styles.fe327016.css">


<link rel="preload" href="/styles.33f185d3.js" as="script">

<link rel="preload" href="/runtime~main.0341b610.js" as="script">

<link rel="preload" href="/main.253c9e15.js" as="script">

<link rel="preload" href="/1.f08493a4.js" as="script">

<link rel="preload" href="/2.8f1ca2f6.js" as="script">

<link rel="preload" href="/3.0e8c340f.js" as="script">

<link rel="preload" href="/1c13b173.0ffed852.js" as="script">

<link rel="preload" href="/03dbc155.fac3c27d.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"><i class="feather icon-github"></i> </a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_34Mc moon_313u"></span></div><div class="react-toggle-track-x"><span class="toggle_34Mc sun_1Og-"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guides/tutorial">Tutorials</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://discuss.qovery.com">Forum</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://start.qovery.com">Web Console</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.qovery.com">Home</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" title="GitHub" target="_blank" rel="noopener noreferrer" href="https://github.com/Qovery"></a></li></ul></div></div></div></nav><div class="main-wrapper"><header class="hero domain-bg domain-bg--default"><div class="container"><div class="hero--category"><a aria-current="page" class="active" href="/guides/tutorial/">tutorial</a></div><h1 class="header_1mJE">Migrate your application from Heroku to AWS</h1><div class="hero--subtitle">Tutorial on how to migrate your application from Heroku to AWS with a PostgreSQL database</div><div class="tags_3AF9"><a class="badge badge--rounded badge--pink" href="/guides/tags/type-tutorial/">type: tutorial</a><a class="badge badge--rounded badge--primary" href="/guides/tags/cloud-provider-aws/">cloud_provider: aws</a></div></div></header><main class="container container--l container_1ncB"><aside class="sidebar_1pU0"><section class="avatar_1sJg"><div class="avatar avatar--lg avatar--vertical"><img class="avatar__photo avatar__photo--lg" src="https://github.com/evoxmusic.png"><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/evoxmusic" target="_blank" rel="author">Romaric P.</a></div><small class="avatar__subtitle">Romaric is a Software Engineer, and CEO at <a href="https://www.qovery.com">Qovery</a>. He has 10+ years of experience in R&D. From the Ad-Tech to the financial industry, he has deep expertise in highly-reliable and performant systems.
</small></div></div></section><section class="table-of-contents tableOfContents_1eMQ"><div class="section"><div class="title">Stats</div><div class="text--secondary text--bold"><i class="feather icon-book"></i> 5 min read</div><div class="text--secondary text--bold"><i class="feather icon-clock"></i> Updated <time pubdate="pubdate" datetime="2021-09-04">Sep 4th, 2021</time></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#overview" class="contents__link">Overview</a></li><li><a href="#deploying-the-sample-application-to-heroku" class="contents__link">Deploying the sample application to Heroku</a></li><li><a href="#migrating-the-application-from-heroku-to-aws" class="contents__link">Migrating the application from Heroku to AWS</a><ul><li><a href="#create-a-new-project" class="contents__link">Create a new project</a></li><li><a href="#create-a-new-environment" class="contents__link">Create a new environment</a></li><li><a href="#create-a-new-application" class="contents__link">Create a new application</a></li><li><a href="#create-and-deploy-a-new-database" class="contents__link">Create and deploy a new database</a></li><li><a href="#migrate-postgresql-data" class="contents__link">Migrate PostgreSQL data</a></li></ul></li><li><a href="#deploy-your-application" class="contents__link">Deploy your application</a></li><li><a href="#whats-next" class="contents__link">What&#39;s next</a></li></ul></div></section></aside><div class="article_mCV7"><article><div class="markdown"><a aria-hidden="true" tabindex="-1" class="anchor" id="overview"></a><p>This tutorial describes how to migrate your web application running on Heroku to AWS with Qovery. In the article, you learn how to
migrate a Node.js application connected to Heroku Postgres as a backing service on the Heroku platform. It covers all required
steps you need to take to deploy your application on AWS and transfer your data from Heroku Postgres to the database managed
by AWS via Qovery.</p><p>The application is a simple Node.js <em>Todo</em> web app that uses PostgreSQL as a persistence layer.</p><div class="alert alert--info alert--fill" role="alert"><p class="text--lg margin-bottom--sm" style="margin-top:-0.25em">Before you begin, this guide assumes the following:</p><ul><li>You are familiar with Heroku basics, have a Heroku account and access to Heroku CLI</li><li>You have a Qovery account</li><li>You have a <a href="https://github.com">Github or Gitlab</a> account</li><li>You have <a href="/guides/advanced/guide-amazon-web-services/">configured your AWS account</a> on Qovery</li></ul></div><hr><div class="margin-bottom--md"><div class="tabs--centered"><ul role="tablist" aria-orientation="horizontal" class="tabs rounded"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">I want to migrate my application</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">I want to deploy a sample application</li></ul></div></div><p>If you have an existing app, you do not have to deploy our sample application to benefit from this guide.
Otherwise, you can try to deploy and migrate our sample application to get experience.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="migrating-the-application-from-heroku-to-aws"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#migrating-the-application-from-heroku-to-aws" title="Direct link to heading">#</a>Migrating the application from Heroku to AWS</h2><div class="steps steps--h3"><ol><li><p><a href="https://console.qovery.com">Sign in to Qovery Console</a></p></li><li><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-new-project"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-new-project" title="Direct link to heading">#</a>Create a new project</h3><p align="center"><img src="/img/heroku/heroku-2.png" alt="Migrate from Heroku"></p></li><li><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-new-environment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-new-environment" title="Direct link to heading">#</a>Create a new environment</h3><p align="center"><img src="/img/heroku/heroku-3.png" alt="Migrate from Heroku"></p></li><li><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-new-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-new-application" title="Direct link to heading">#</a>Create a new application</h3><p>To follow the guide, <a href="https://github.com/qovery/migrate-webapp-from-heroku-to-qovery.git">you can fork and use our repository</a></p><p>Use the forked repository (and branch <strong>master</strong>) while creating the application in the repository field:</p><p align="center"><img src="/img/rust/rust.png" alt="Migrate from Heroku"></p></li><li><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-and-deploy-a-new-database"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-and-deploy-a-new-database" title="Direct link to heading">#</a>Create and deploy a new database</h3><div class="alert alert--warning alert--icon" role="alert"><i class="feather icon-alert-triangle"></i><p>Name the database <strong>MY_POSTGRESQL</strong> to follow the guide flawlessly</p></div><p>To learn how to do it, you can <a href="/guides/getting-started/create-a-database/">follow this guide</a></p></li><li><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="migrate-postgresql-data"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#migrate-postgresql-data" title="Direct link to heading">#</a>Migrate PostgreSQL data</h3><p>There are multiple paths you could take to migrate your data from Heroku Postgres to AWS.
For production usage for the shortest downtime you would probably want to configure PostgreSQL as a replica to
the database on Heroku, and making it the primary instance after migration. Heroku does not support this in its free
tier, so for the purpose of the example, we take a simpler path and use different tools to migrate the data.</p><div class="alert alert--undefined alert--icon" role="alert"><i class="feather icon-info"></i><p>To run the migration successfully, you need a <code>psql</code> PostgreSQL client installed on your machine.</p></div><p>First, dump the data from your Heroku Postgres:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">heroku pg:backups:download -a YOUR_APPLICATION_NAME</span></div><div class="token-line" style="color:#393A34"><span class="token plain">heroku pg:backups:capture -a YOUR_APPLICATION_NAME</span></div></div></pre></div></div><p>It results in creating a new <code>latest.dump</code> file, which you use to transfer data to AWS PostgreSQL.</p><p>To migrate the data to your AWS PostgreSQL, run (replace all the values with secrets listed in your application <code>Secrets</code> tab):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">pg_restore -v -h </span><span class="token variable" style="color:#36acaa">$QOVERY_DATABASE_MY_POSTGRESQL_HOST</span><span class="token plain"> -U </span><span class="token variable" style="color:#36acaa">$QOVERY_DATABASE_MY_POSTGRESQL_USER</span><span class="token plain"> -d postgres latest.dump --no-owner</span></div></div></pre></div></div><p><a href="/docs/using-qovery/configuration/secret/">Learn more about secrets here</a></p></li></ol><div class="steps--feedback">How was it? Did this tutorial work?  <span class="button button--sm button--primary">Yes</span>  <a href="https://github.com/qovery/documentation/issues/new?body=The%20tutorial%20on%3A%0A%0Anull%0A%0AHere%27s%20what%20went%20wrong%3A%0A%0A%3C%21--%20Insert%20command%20output%20and%20details.%20Thank%20you%20for%20reporting%21%20%3A%29%20--%3E&amp;title=Tutorial%20on%20null%20failed" target="_blank" class="button button--sm button--primary">No</a></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="deploy-your-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy-your-application" title="Direct link to heading">#</a>Deploy your application</h2><p>All you have to do now is to navigate to your application and click <strong>Deploy</strong> button</p><p align="center"><img src="/img/heroku/heroku-1.png" alt="Deploy App"></p><p>That&#x27;s it. Watch the status and wait till the app is deployed.</p><p>After it&#x27;s done, click on <strong>Action</strong> and <strong>Open</strong> button to navigate to your app. It should be up and running with all the data from Heroku migrated to AWS!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="whats-next"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#whats-next" title="Direct link to heading">#</a>What&#x27;s next</h2><a class="jump-to jump-to--undefined" href="/guides/getting-started/setting-custom-domain"><div class="jump-to--inner"><div class="jump-to--inner-2"><div class="jump-to--main">Setting Custom Domain</div><div class="jump-to--right"><i class="feather icon-chevron-right arrow"></i></div></div></div></a><a class="jump-to jump-to--undefined" href="/guides/advanced/using-multiple-environments"><div class="jump-to--inner"><div class="jump-to--inner-2"><div class="jump-to--main">Using Multiple Environments</div><div class="jump-to--right"><i class="feather icon-chevron-right arrow"></i></div></div></div></a></div></article></div></main></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><p>Qovery combines the power of Kubernetes, the reliability of AWS, and the simplicity of Heroku to deploy your apps.</p></div><div><a href="https://github.com/qovery" target="_blank"><i class="feather icon-github" alt="Qovery&#x27;s Github Repo"></i></a>    <a href="https://www.linkedin.com/company/qovery/" target="_blank"><i class="feather icon-rss" alt="Qovery&#x27;s Linkedin"></i></a>    <a href="https://twitter.com/qovery_" target="_blank"><i class="feather icon-twitter" alt="Qovery&#x27;s Twitter"></i></a>    <a href="https://discord.qovery.com" target="_blank"><i class="feather icon-message-circle" alt="Qovery&#x27;s Discord"></i></a></div></div><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides">Guides</a></li><li class="footer__item"><a aria-current="page" class="footer__link-item active" href="/guides/tutorial">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/guides/engineering">Engineering</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/pricing" href="https://www.qovery.com/pricing">Pricing</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/enterprise" href="https://www.qovery.com/enterprise">Enterprise</a></li><li class="footer__item"><a class="footer__link-item" to="https://api-doc.qovery.com" href="https://api-doc.qovery.com">API</a></li><li class="footer__item"><a class="footer__link-item" to="https://github.com/Qovery" href="https://github.com/Qovery">Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://discord.qovery.com" href="https://discord.qovery.com">Discord</a></li><li class="footer__item"><a class="footer__link-item" to="https://community.qovery.com" href="https://community.qovery.com">Forum</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/community-call" href="https://www.qovery.com/community-call">Community call</a></li><li class="footer__item"><a class="footer__link-item" to="https://shop.qovery.com" href="https://shop.qovery.com">Goodies</a></li><li class="footer__item"><a class="footer__link-item" to="https://roadmap.qovery.com" href="https://roadmap.qovery.com">Roadmap</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/blog" href="https://www.qovery.com/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" to="https://jobs.qovery.com" href="https://jobs.qovery.com">Jobs</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/team" href="https://www.qovery.com/team">Team</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/investors" href="https://www.qovery.com/investors">Investors</a></li><li class="footer__item"><a class="footer__link-item" to="https://www.qovery.com/contact" href="https://www.qovery.com/contact">Contact</a></li></ul></div></div><div class="text--center"><small>© 2022 DESIGNED BY QOVERY | BACKED BY TECHSTARS | PROUD SILVER MEMBER OF CNCF AND LINUX FOUNDATION | QOVERY BY BIRDSIGHT - ALL RIGHTS RESERVED</small><br></div></div></footer>
</div>

<script src="/styles.33f185d3.js"></script>

<script src="/runtime~main.0341b610.js"></script>

<script src="/main.253c9e15.js"></script>

<script src="/1.f08493a4.js"></script>

<script src="/2.8f1ca2f6.js"></script>

<script src="/3.0e8c340f.js"></script>

<script src="/1c13b173.0ffed852.js"></script>

<script src="/03dbc155.fac3c27d.js"></script>


</body>
</html>